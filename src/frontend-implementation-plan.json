{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix Gift 2 photos not found by ensuring static assets and config match",
  "requirements": [
    {
      "id": "REQ-22",
      "summary": "Ensure the three Gift 2 user photo files exist in the deployed frontend static assets at the exact required paths and filenames",
      "acceptanceCriteria": [
        "All three files exist in the repository at frontend/public/assets/generated/ with the exact filenames listed (including case and extension).",
        "After deployment, each image is reachable by direct URL:\n- /assets/generated/IMG_0131-1.jpeg\n- /assets/generated/IMG_4617-1.jpeg\n- /assets/generated/IMG_0156-1.jpeg"
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/IMG_0131-1.jpeg",
          "operation": "create",
          "description": "Add the provided user photo file to the frontend static assets at this exact path/filename (case-sensitive)."
        },
        {
          "path": "frontend/public/assets/generated/IMG_4617-1.jpeg",
          "operation": "create",
          "description": "Add the provided user photo file to the frontend static assets at this exact path/filename (case-sensitive)."
        },
        {
          "path": "frontend/public/assets/generated/IMG_0156-1.jpeg",
          "operation": "create",
          "description": "Add the provided user photo file to the frontend static assets at this exact path/filename (case-sensitive)."
        }
      ]
    },
    {
      "id": "REQ-23",
      "summary": "Verify Gift 2 is driven only by HER_PHOTOS and uses exactly the three required filenames in the required order (no placeholders)",
      "acceptanceCriteria": [
        "frontend/src/config/valentineContent.ts exports HER_PHOTOS with exactly the three filenames in the required order and contains no placeholder photo entries for Gift 2.",
        "Gift 2 (“Beautiful You”) renders exactly 3 images sourced from /assets/generated/<filename> using the HER_PHOTOS array."
      ],
      "file_operations": [
        {
          "path": "frontend/src/config/valentineContent.ts",
          "operation": "modify",
          "description": "Verify HER_PHOTOS is exactly ['IMG_0131-1.jpeg','IMG_4617-1.jpeg','IMG_0156-1.jpeg'] in that order, and ensure there are no placeholder/extra entries affecting Gift 2."
        },
        {
          "path": "frontend/src/screens/GiftsScreen.tsx",
          "operation": "modify",
          "description": "Verify Gift 2 (“Beautiful You”) renders its gallery exclusively from the HER_PHOTOS array (no hardcoded or placeholder filenames) and renders exactly one image per entry in that array."
        }
      ]
    },
    {
      "id": "REQ-24",
      "summary": "Add/adjust deployment validation steps so rebuild/redeploy can confirm Gift 2 photos load on the live site and capture failing asset URLs/statuses if not",
      "acceptanceCriteria": [
        "In the live deployment, opening Gift 2 (“Beautiful You”) shows the three user photos and does not show any “Image not found” fallback cards.",
        "If any of the three images still fail to load, capture and provide the failing asset URL(s) and the browser network error/status for each."
      ],
      "file_operations": [
        {
          "path": "frontend/scripts/retry-deploy-and-capture-logs.sh",
          "operation": "modify",
          "description": "Enhance the post-deploy validation section to explicitly validate the three required asset URLs (/assets/generated/IMG_0131-1.jpeg, /assets/generated/IMG_4617-1.jpeg, /assets/generated/IMG_0156-1.jpeg) against the deployed canister base URL and capture HTTP status/errors in the log output for any failures."
        },
        {
          "path": "frontend/DEPLOYMENT_RETRY_RUNBOOK.md",
          "operation": "modify",
          "description": "Complete and update the runbook to include explicit live-site verification steps for Gift 2, including direct checks of /assets/generated/IMG_0131-1.jpeg, /assets/generated/IMG_4617-1.jpeg, and /assets/generated/IMG_0156-1.jpeg, and instructions to record failing URL(s) and browser network status/errors if any do not load."
        }
      ]
    }
  ]
}